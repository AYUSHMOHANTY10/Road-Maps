{% extends 'layouts/base.njk' %}

{% block headerAssets %}
  {{ super() }}

  {% set css %}
    {% include "styles/roadmap.css" %}
  {% endset %}

  <style>{{ css | cssmin | safe }}</style>
{% endblock %}

{% block main %}
  {{ super() }}

  <a class='font-semibold underline mt-5' href="{{ pdfUrl }}" target='_blank'>Download</a>

  {% include "components/topic-overlay.njk" %}

  <div id='roadmap-svg' class='mt-5'>
    {% include "components/loader.njk" %}
  </div>
{% endblock %}

{# Adds the assets for the footer #}
{% block footerAssets %}
  {{ super() }}

  <script src='/scripts/roadmap.js'></script>
  <script src='/scripts/topic.js'></script>
  <script>
    window.initRoadmap({
      jsonUrl: '{{ jsonUrl }}',
      containerId: 'roadmap-svg',
    });

    window.initTopic({
      roadmapId: '{{ page.fileSlug }}',
      topicOverlayId: 'topic-overlay',
      topicContentId: 'topic-content',
      topicLoaderId: 'topic-loader'
    });
  </script>
{% endblock %}
