import{a as e}from"./js.cookie.cf83ad76.js";import{T as o}from"./constants.007bcfeb.js";import"./AccountDropdown.astro_astro_type_script_index_0_lang.07377b70.js";const i=document.querySelector("[data-verification-spinner]"),a=document.querySelector("[data-verification-error]"),s=document.querySelector("[data-verification-success]");e.get(o)&&(window.location.href="/");window.addEventListener("load",()=>{const t=new URLSearchParams(window.location.search).get("code");t&&fetch("http://localhost:8080/v1-verify-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}).then(async n=>{if(n.ok){i?.remove(),s?.classList.remove("hidden");const r=await n.json();r.token?e.set(o,r.token):e.remove(o),window.location.href="/"}else i?.remove(),a?.classList.remove("hidden")})});
