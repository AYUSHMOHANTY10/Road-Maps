import{h as t,p as d}from"./hooks.module.ee390651.js";import{o as e}from"./jsxRuntime.module.760e3403.js";import{_ as f}from"./preact.module.e54f245b.js";const y="/_astro/verify-letter.fe971718.svg";function u(){const[a,o]=t(".."),[i,c]=t(""),[r,m]=t(!1),[n,l]=t(!1);d(()=>{const s=new URLSearchParams(window.location.search);o(s.get("email"))},[]);const h=()=>{fetch("https://api.roadmap.sh/v1-send-verification-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}).then(s=>{if(!s.ok)throw new Error("Something went wrong. Please try again later.");l(!0)}).catch(()=>{l(!1),m(!1),c("Something went wrong. Please try again later.")})};return e("div",{className:"mx-auto max-w-md text-center",children:[e("img",{alt:"Verify Email",src:y,class:"mx-auto mb-4 h-20 w-40 sm:h-40"}),e("h2",{class:"my-2 text-center text-xl font-semibold sm:my-5 sm:text-2xl",children:"Verify your email address"}),e("div",{class:"text-sm sm:text-base",children:[e("p",{children:["We have sent you an email at ",e("span",{className:"font-bold",children:a}),". Please click the link to verify your account. This link will expire shortly, so please verify soon!"]}),e("hr",{class:"my-4"}),!n&&e(f,{children:[r&&e("p",{className:"text-gray-400",children:"Sending the email .."}),!r&&!i&&e("p",{children:["Please make sure to check your spam folder. If you still don't have the email click to"," ",e("button",{disabled:!a,className:"inline text-blue-700",onClick:h,children:"resend verification email."})]}),i&&e("p",{class:"text-red-700",children:i})]}),n&&e("p",{class:"text-green-700",children:"Verification email has been sent!"})]})]})}export{u as VerificationEmailMessage};
