import"./js.cookie.cf83ad76.js";import{h as o}from"./hooks.module.da6d90ff.js";import{S as h}from"./Spinner.a1a765f7.js";import{o as e}from"./jsxRuntime.module.760e3403.js";import"./preact.module.e54f245b.js";const v=()=>{const[n,u]=o(""),[s,c]=o(""),[l,m]=o(""),[d,i]=o(!1),[r,p]=o(null);return e("form",{className:"w-full",onSubmit:t=>{t.preventDefault(),i(!0),fetch("http://localhost:8080/v1-register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s,name:l})}).then(async a=>{const f=await a.json();if(a.status===200)window.location.href=`/verify?email=${n}`,m(""),u(""),c(""),p({type:"success",message:"We have sent you an email with the verification link. Please follow the instructions to login."});else{const g=new Error(f.message);throw g.status=a.status,g}i(!1)}).catch(a=>{i(!1),p({type:"error",message:a.message})})},children:[e("label",{htmlFor:"name",className:"sr-only",children:"Name"}),e("input",{id:"name",name:"name",type:"name",autoComplete:"name",required:!0,className:"block w-full appearance-none rounded-lg border border-gray-300 px-3 py-2 shadow-sm  outline-none transition duration-150 ease-in-out placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"John Doe",value:l,onInput:t=>m(String(t.target.value))}),e("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-2 block w-full appearance-none rounded-lg border border-gray-300 px-3 py-2 shadow-sm  outline-none transition duration-150 ease-in-out placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"john@example.com",value:n,onInput:t=>u(String(t.target.value))}),e("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"mt-2 block w-full appearance-none rounded-lg border border-gray-300 px-3 py-2 shadow-sm  outline-none transition duration-150 ease-in-out placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Enter you password",value:s,onInput:t=>c(String(t.target.value))}),r&&e("div",{className:`mt-2 rounded-lg p-2 ${r.type==="error"?"bg-red-100 text-red-700":r.type==="success"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:r.message}),e("button",{type:"submit",disabled:n.length===0||s.length===0||l.length===0||d,className:"mt-3 inline-flex h-10 w-full items-center justify-center rounded-lg border border-slate-300 bg-black p-2 text-sm font-medium text-white outline-none transition duration-150 ease-in-out focus:ring-2 focus:ring-black focus:ring-offset-1 disabled:opacity-60",children:d?e(h,{className:"text-white"}):"Continue"})]})};export{v as default};
