(()=>{var n=class{constructor(){this.triggerModal=this.triggerModal.bind(this),this.onDOMLoaded=this.onDOMLoaded.bind(this),this.handleCloseModal=this.handleCloseModal.bind(this),this.handleKeydown=this.handleKeydown.bind(this)}triggerModal(e){let d=e?.target?.closest("[data-modal]")?.dataset?.modal||"unknown-modal",o=document.querySelector(`#${d}`);if(!o)return;o.classList.remove("hidden");let t=o.querySelector("[autofocus]");t&&t.focus()}handleCloseModal(e){let d=e.target,o=d.closest(".modal-body"),t=d.closest(".modal");o||t&&t.classList.add("hidden")}handleKeydown(e){if(e.key!=="Escape")return;let d=document.querySelector(".modal:not(.hidden)");d&&d.classList.add("hidden")}onDOMLoaded(){document.addEventListener("click",this.triggerModal),document.addEventListener("click",this.handleCloseModal),document.addEventListener("keydown",this.handleKeydown)}init(){window.addEventListener("DOMContentLoaded",this.onDOMLoaded)}},s=new n;s.init();})();
//# sourceMappingURL=modal.js.map
