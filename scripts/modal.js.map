{
  "version": 3,
  "sources": ["../../src/scripts/modal.js"],
  "sourcesContent": ["export class Modal {\n  constructor() {\n    this.triggerModal = this.triggerModal.bind(this);\n    this.onDOMLoaded = this.onDOMLoaded.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n  }\n\n  /**\n   * Triggers the modal on target elements\n   * @param {Event} e\n   */\n  triggerModal(e) {\n    const modalToShow = e?.target?.closest('[data-modal]')?.dataset?.modal || 'unknown-modal';\n    const modalEl = document.querySelector(`#${modalToShow}`);\n\n    if (!modalEl) {\n      return;\n    }\n\n    modalEl.classList.remove('hidden');\n    const focusEl = modalEl.querySelector('[autofocus]');\n    if (focusEl) {\n      focusEl.focus();\n    }\n  }\n\n  handleCloseModal(e) {\n    const target = e.target;\n    const modalBody = target.closest('.modal-body');\n    const closestModal = target.closest('.modal');\n\n    if (modalBody) {\n      return;\n    }\n\n    if (closestModal) {\n      closestModal.classList.add('hidden');\n    }\n  }\n\n  handleKeydown(e) {\n    if (e.key !== 'Escape') {\n      return;\n    }\n\n    const modal = document.querySelector('.modal:not(.hidden)');\n    if (modal) {\n      modal.classList.add('hidden');\n    }\n  }\n\n  onDOMLoaded() {\n    document.addEventListener('click', this.triggerModal);\n    document.addEventListener('click', this.handleCloseModal);\n    document.addEventListener('keydown', this.handleKeydown);\n  }\n\n  init() {\n    window.addEventListener('DOMContentLoaded', this.onDOMLoaded);\n  }\n}\n\nconst modalRef = new Modal();\nmodalRef.init();\n"],
  "mappings": "MAAO,IAAMA,EAAN,KAAY,CACjB,aAAc,CACZ,KAAK,aAAe,KAAK,aAAa,KAAK,IAAI,EAC/C,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,iBAAmB,KAAK,iBAAiB,KAAK,IAAI,EACvD,KAAK,cAAgB,KAAK,cAAc,KAAK,IAAI,CACnD,CAMA,aAAa,EAAG,CACd,IAAMC,EAAc,GAAG,QAAQ,QAAQ,cAAc,GAAG,SAAS,OAAS,gBACpEC,EAAU,SAAS,cAAc,IAAID,GAAa,EAExD,GAAI,CAACC,EACH,OAGFA,EAAQ,UAAU,OAAO,QAAQ,EACjC,IAAMC,EAAUD,EAAQ,cAAc,aAAa,EAC/CC,GACFA,EAAQ,MAAM,CAElB,CAEA,iBAAiB,EAAG,CAClB,IAAMC,EAAS,EAAE,OACXC,EAAYD,EAAO,QAAQ,aAAa,EACxCE,EAAeF,EAAO,QAAQ,QAAQ,EAExCC,GAIAC,GACFA,EAAa,UAAU,IAAI,QAAQ,CAEvC,CAEA,cAAc,EAAG,CACf,GAAI,EAAE,MAAQ,SACZ,OAGF,IAAMC,EAAQ,SAAS,cAAc,qBAAqB,EACtDA,GACFA,EAAM,UAAU,IAAI,QAAQ,CAEhC,CAEA,aAAc,CACZ,SAAS,iBAAiB,QAAS,KAAK,YAAY,EACpD,SAAS,iBAAiB,QAAS,KAAK,gBAAgB,EACxD,SAAS,iBAAiB,UAAW,KAAK,aAAa,CACzD,CAEA,MAAO,CACL,OAAO,iBAAiB,mBAAoB,KAAK,WAAW,CAC9D,CACF,EAEMC,EAAW,IAAIR,EACrBQ,EAAS,KAAK",
  "names": ["Modal", "modalToShow", "modalEl", "focusEl", "target", "modalBody", "closestModal", "modal", "modalRef"]
}
