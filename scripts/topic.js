(()=>{var c=class{constructor(t){this.config=t,this.handleCloseTopic=this.handleCloseTopic.bind(this),this.handleLoadTopic=this.handleLoadTopic.bind(this),this.init=this.init.bind(this)}fetchTopicHtml(t,o){let e=o.replace(/^\d+-/,"").replaceAll(/:/g,"/"),n=`/${t}/${e}/`;return fetch(n).then(i=>i.text()).then(i=>new DOMParser().parseFromString(i,"text/html").querySelector("#topic-content"))}handleCloseTopic(t){t.target.closest("#topic-content-content")||(t.stopPropagation(),document.querySelector("#topic-content-overlay").classList.add("hidden"))}handleLoadTopic(t){let o=t.target.closest("g")||{},e=o.dataset?o.dataset.groupId:"";if(!!e){if(t.stopPropagation(),/^ext_link/.test(e)){window.open(`https://${e.replace("ext_link:","")}`);return}document.querySelector("#topic-content-overlay").classList.remove("hidden"),this.fetchTopicHtml(this.config.roadmapId,e).then(n=>{document.querySelector("#topic-content-content").replaceChildren(n)}).catch(console.error)}}init(){window.addEventListener("click",this.handleCloseTopic),window.addEventListener("click",this.handleLoadTopic)}};window.initTopic=function(r){new c(r).init()};})();
//# sourceMappingURL=topic.js.map
