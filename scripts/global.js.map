{
  "version": 3,
  "sources": ["../../src/scripts/global.js"],
  "sourcesContent": ["function showAd() {\n  window.setTimeout(() => {\n    const ad = document.querySelector('.sponsor-ad');\n    if (!ad) {\n      return;\n    }\n\n    ad.classList.remove('hidden');\n  }, 500);\n}\n\nfunction validateCaptchaBeforeSubmit(e) {\n  const target = e.target;\n  const captchaField = target.querySelector('.recaptcha-field');\n\n  if (captchaField) {\n    const captchaId = captchaField.dataset.recaptchaId;\n    const captchaResponse = grecaptcha.getResponse(captchaId);\n\n    // If valid captcha is not present, prevent form submission\n    if (!captchaResponse) {\n      e.preventDefault();\n      alert('Please verify that you are human first');\n      return false;\n    }\n\n    target.querySelector('.recaptcha-response').value = captchaResponse;\n    grecaptcha.reset(captchaId);\n  }\n\n  this.closest('.modal').classList.add('hidden');\n  return true;\n}\n\nfunction bindCaptchaValidation() {\n  const forms = document.querySelectorAll('.validate-captcha-form');\n\n  forms.forEach((form) => {\n    form.addEventListener('submit', validateCaptchaBeforeSubmit);\n  });\n}\n\n// Render the captcha fields on the forms where required\nwindow.onCaptchaLoad = function () {\n  if (!grecaptcha) {\n    console.warn('grecaptcha is not defined');\n    return;\n  }\n\n  const recaptchaFields = document.querySelectorAll('.recaptcha-field');\n\n  // render recaptcha on fields\n  recaptchaFields.forEach((field) => {\n    const renderedId = grecaptcha.render(field, {\n      sitekey: '6Ldn2YsjAAAAABlUxNxukAuDAUIuZIhO0hRVxzJW',\n    });\n\n    field.setAttribute('data-recaptcha-id', renderedId);\n  });\n};\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  showAd();\n  bindCaptchaValidation();\n});\n"],
  "mappings": "MAAA,SAASA,GAAS,CAChB,OAAO,WAAW,IAAM,CACtB,IAAMC,EAAK,SAAS,cAAc,aAAa,EAC1CA,GAILA,EAAG,UAAU,OAAO,QAAQ,CAC9B,EAAG,GAAG,CACR,CAEA,SAASC,EAA4B,EAAG,CACtC,IAAMC,EAAS,EAAE,OACXC,EAAeD,EAAO,cAAc,kBAAkB,EAE5D,GAAIC,EAAc,CAChB,IAAMC,EAAYD,EAAa,QAAQ,YACjCE,EAAkB,WAAW,YAAYD,CAAS,EAGxD,GAAI,CAACC,EACH,SAAE,eAAe,EACjB,MAAM,wCAAwC,EACvC,GAGTH,EAAO,cAAc,qBAAqB,EAAE,MAAQG,EACpD,WAAW,MAAMD,CAAS,CAC5B,CAEA,YAAK,QAAQ,QAAQ,EAAE,UAAU,IAAI,QAAQ,EACtC,EACT,CAEA,SAASE,GAAwB,CACjB,SAAS,iBAAiB,wBAAwB,EAE1D,QAASC,GAAS,CACtBA,EAAK,iBAAiB,SAAUN,CAA2B,CAC7D,CAAC,CACH,CAGA,OAAO,cAAgB,UAAY,CACjC,GAAI,CAAC,WAAY,CACf,QAAQ,KAAK,2BAA2B,EACxC,MACF,CAEwB,SAAS,iBAAiB,kBAAkB,EAGpD,QAASO,GAAU,CACjC,IAAMC,EAAa,WAAW,OAAOD,EAAO,CAC1C,QAAS,0CACX,CAAC,EAEDA,EAAM,aAAa,oBAAqBC,CAAU,CACpD,CAAC,CACH,EAEA,OAAO,iBAAiB,mBAAoB,IAAM,CAChDV,EAAO,EACPO,EAAsB,CACxB,CAAC",
  "names": ["showAd", "ad", "validateCaptchaBeforeSubmit", "target", "captchaField", "captchaId", "captchaResponse", "bindCaptchaValidation", "form", "field", "renderedId"]
}
